(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1216:(e,t,s)=>{Promise.resolve().then(s.bind(s,3057))},2939:(e,t,s)=>{"use strict";s.d(t,{B:()=>l});var a=s(3464),r=s(8070);let l=async()=>{let e=localStorage.getItem("refresh");try{let t=await a.A.post("".concat(r.A,"/auth/token/refresh/"),{refresh:e});return localStorage.setItem("access",t.data.access),t.data.access}catch(e){return localStorage.removeItem("access"),localStorage.removeItem("refresh"),window.location.href="/login",null}}},3057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),r=s(7288),l=s(9010),i=s(2115),n=s(3464),o=s(7927),c=s(8070);let d={title:"Welcome to Sinolife",subtitle:"Natural Wellness",desc:"Discover premium herbal products for your health and lifestyle.",image:"https://readdy.ai/api/search-image?query=Natural%20herbal%20garden%20with%20green%20herbs%20and%20plants%20growing%20in%20sunlight&width=1920&height=1080"};function x(){let[e,t]=(0,i.useState)(null),{language:s,t:r}=(0,o.o)(),l="bannerDataHome_".concat(s);(0,i.useEffect)(()=>{let e=localStorage.getItem(l);if(e)try{let{data:s,timestamp:a}=JSON.parse(e);if(Date.now()-a<36e5)return void t(s)}catch(e){}!async function(){try{let e=await n.A.get("".concat(c.A,"/api/banner/?lang=").concat(s));if(e.data.status&&e.data.data.results.length>0){let s=e.data.data.results.find(e=>"home"===e.type);if(s){let e={title:s.title,subtitle:s.subtitle,desc:s.description||"",image:s.image};t(e),localStorage.setItem(l,JSON.stringify({data:e,timestamp:Date.now()}));return}}t(d)}catch(e){console.error("Banner olishda xatolik:",e),t(d)}}()},[s]);let x=e||d;return(0,a.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(x.image,")")},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,a.jsx)("div",{className:"relative z-10 w-full container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-2xl text-white",children:[(0,a.jsxs)("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[x.title,(0,a.jsx)("span",{className:"block text-green-400",children:x.subtitle})]}),(0,a.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-gray-200 leading-relaxed",children:x.desc}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("a",{href:"/products",children:(0,a.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105",children:r("shop_show")})}),(0,a.jsx)("a",{href:"/contact",children:(0,a.jsx)("button",{className:"bg-transparent border-2 border-white text-white hover:bg-white hover:text-green-600 px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300",children:r("contact")})})]})]})})]})}var h=s(6874),m=s.n(h),u=s(5799);s(5716);var g=s(2939);function p(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)(!0),{language:l,setLanguage:d,t:x}=(0,o.o)();(0,i.useEffect)(()=>{!async function(){try{let e=await n.A.get("".concat(c.A,"/api/product/"));if(e.data.status){let s=e.data.data.results,a=function(e,t){let s=[],a=new Set;for(;s.length<4&&s.length<e.length;){let t=Math.floor(Math.random()*e.length);a.has(t)||(a.add(t),s.push(e[t]))}return s}(s,0);t(a)}}catch(e){console.error("Mahsulotlarni olishda xatolik:",e),u.oR.error("Mahsulotlarni olishda xatolik")}finally{r(!1)}}()},[]);let h=async e=>{try{let a,r="".concat(c.A,"/api/cart/"),l=localStorage.getItem("access"),i={cart_items:[{product:e,quantity:1}]};try{a=await n.A.post(r,i,{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}})}catch(e){if(e.response&&401===e.response.status){let e=await (0,g.B)();if(!e)return void u.oR.error("Sessiya tugadi. Iltimos, qaytadan tizimga kiring.");a=await n.A.post(r,i,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})}else{var t,s;console.error("Savatchaga qo‘shishda xatolik:",e),u.oR.error((null==(s=e.response)||null==(t=s.data)?void 0:t.detail)||"Serverda xatolik");return}}a.data.status?u.oR.success("✅ Mahsulot savatchaga qo‘shildi"):u.oR.error("❌ Mahsulot qo‘shishda xatolik")}catch(e){console.error("Savatchaga qo‘shishda xatolik:",e),u.oR.error("Serverda xatolik")}};return s?(0,a.jsx)("section",{className:"py-16 bg-gray-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 text-center text-gray-600",children:"Yuklanmoqda..."})}):0===e.length?(0,a.jsx)("section",{className:"py-16 bg-gray-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4 text-center text-gray-600",children:"Mahsulotlar topilmadi."})}):(0,a.jsxs)("section",{className:"py-16 bg-gray-50",children:[(0,a.jsx)(u.N9,{position:"top-right",autoClose:2e3}),(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:x("featured_product")}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:x("featured_products_description")})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover object-top"}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-1",children:[e.is_populer&&(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:"#0ef"},children:x("best_seller")}),e.is_new&&(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-green-600 text-white",children:x("new")}),e.is_discounted&&(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-red-600 text-white",children:x("sale")})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:e.title}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-green-600",children:e.discounted_price?"".concat(e.discounted_price.toLocaleString("uz-UZ")," so'm"):"".concat(e.price.toLocaleString("uz-UZ")," so'm")}),e.discounted_price&&e.price!==e.discounted_price&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[e.price.toLocaleString("uz-UZ")," so'm"]})]})}),(0,a.jsx)("button",{onClick:()=>h(e.id),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:x("add_to_cart")})]})]},e.id))}),(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)(m(),{href:"/products",children:(0,a.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:x("view_all_product")})})})]})]})}let f=["green","orange","yellow","purple","blue","pink","indigo","red","rose"];function j(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)(!0),{language:l,setLanguage:n,t:d}=(0,o.o)();return((0,i.useEffect)(()=>{!async function(){r(!0);try{let s=await fetch("".concat(c.A,"/api/category/")),a=await s.json();if(a.status&&a.data&&Array.isArray(a.data.results)){var e;let s=(e=a.data.results,[...e].sort(()=>.5-Math.random()).slice(0,6)).map((e,t)=>({...e,color:f[t%f.length]}));t(s)}else t([])}catch(e){console.error("Category fetch error:",e),t([])}finally{r(!1)}}()},[]),s)?(0,a.jsx)("div",{className:"py-16 text-center text-gray-600 text-xl",children:"Yuklanmoqda..."}):0===e.length?(0,a.jsx)("div",{className:"py-16 text-center text-gray-600 text-xl",children:"Kategoriya topilmadi."}):(0,a.jsx)("section",{className:"py-16",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:d("categories_title")}),(0,a.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:d("categories_description")})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>(0,a.jsx)(m(),{href:"/products?category_ids=".concat(e.id),children:(0,a.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 overflow-hidden cursor-pointer",children:[(0,a.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between text-white",children:(0,a.jsxs)("span",{className:"text-sm font-medium bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full",children:[e.product_count," ",d("products")]})})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3 group-hover:text-green-600 transition-colors",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 leading-relaxed",children:d("explore_products_in_this_category")}),(0,a.jsxs)("div",{className:"flex items-center text-green-600 group-hover:text-green-700 transition-colors",children:[(0,a.jsx)("span",{className:"font-medium",children:d("shop_now")}),(0,a.jsx)("i",{className:"ri-arrow-right-line ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})},e.id))})]})})}function b(){let{language:e,setLanguage:t,t:s}=(0,o.o)();return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(r.A,{}),(0,a.jsxs)("main",{children:[(0,a.jsx)(x,{}),(0,a.jsx)(p,{}),(0,a.jsx)(j,{}),(0,a.jsx)("section",{className:"py-16 bg-green-50",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-shield-check-line text-white text-2xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:s("natural_title")}),(0,a.jsx)("p",{className:"text-gray-600",children:s("natural_description")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-truck-line text-white text-2xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:s("shipping_title")}),(0,a.jsx)("p",{className:"text-gray-600",children:s("shipping_description")})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-customer-service-2-line text-white text-2xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:s("support_title")}),(0,a.jsx)("p",{className:"text-gray-600",children:s("support_description")})]})]})})}),(0,a.jsx)("section",{className:"py-16 bg-green-600",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:s("newsletter_title")}),(0,a.jsx)("p",{className:"text-xl text-green-100 mb-8 max-w-2xl mx-auto",children:s("newsletter_description")})]})})]}),(0,a.jsx)(l.A,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[797,115,542,425,441,684,358],()=>t(1216)),_N_E=e.O()}]);